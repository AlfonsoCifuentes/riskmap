{% extends "base_navigation.html" %}

{% block title %}Acerca de RISKMAP{% endblock %}

{% block extra_css %}
    <style>
        :root {
            --bg-primary: linear-gradient(180deg, #0a0f2c 0%, #1a2040 40%, #2a3558 80%, #3a4a70 100%);
            --bg-secondary: #141824;
            --text-primary: #e8eaed;
            --text-secondary: #b0b8c4;
            --accent-cyan: #00d4ff;
            --accent-glow: 0 0 15px rgba(0, 212, 255, 0.4), 0 0 25px rgba(0, 212, 255, 0.2);
            --border-color: rgba(255, 255, 255, 0.1);
        }

        /* 3D Earth Background */
        #earth3d-container {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -2;
            overflow: hidden;
            background: url('/static/espacio.jpg') center center no-repeat;
            background-size: cover;
            background-attachment: fixed;
        }

        #earth3d-canvas {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 130vw;
            height: 130vh;
            opacity: 0.8;
        }

        /* Parallax space background */
        .space-background {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            z-index: -3;
            background: url('/static/espacio.jpg') center center no-repeat;
            background-size: cover;
            background-attachment: fixed;
            will-change: transform;
        }

        body {
            background: transparent; /* Remove solid background to show 3D Earth */
            color: var(--text-primary);
            min-height: 100vh;
            padding-top: 80px;
            overflow-x: hidden;
        }

        .hero-section {
            background: var(--bg-primary);
            color: var(--text-primary);
            padding: 80px 0;
        }
        
        .feature-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            border: 1px solid var(--border-color);
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            color: var(--text-primary);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .feature-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 45px rgba(102, 126, 234, 0.2);
            border-color: rgba(102, 126, 234, 0.3);
        }
        
        .tech-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 8px 16px;
            border-radius: 20px;
            margin: 5px;
            display: inline-block;
            box-shadow: var(--accent-glow);
        }
        
        .developer-card {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(0,212,255,0.2);
            border-radius: 15px;
            padding: 30px;
            text-align: center;
            backdrop-filter: blur(10px);
        }

        .glass-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            border-radius: 15px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--border-color);
            color: var(--text-primary);
            backdrop-filter: blur(10px);
        }

        .card-title {
            color: var(--text-primary);
        }

        .card-text {
            color: var(--text-secondary);
        }

        .text-muted {
            color: var(--text-secondary) !important;
        }

        .section-dark {
            background: rgba(10, 15, 44, 0.8);
            backdrop-filter: blur(10px);
        }
        
        /* Main content styles - no navigation overrides */
        
        .pipeline-step {
            background: rgba(0, 255, 136, 0.1);
            color: var(--text-primary);
            border: 1px solid rgba(0, 255, 136, 0.3);
            border-radius: 25px;
            padding: 12px 24px;
            margin: 8px;
            display: inline-flex;
            align-items: center;
            backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }
        
        .pipeline-step:hover {
            background: rgba(0, 255, 136, 0.15);
            border-color: rgba(0, 255, 136, 0.5);
            transform: translateY(-2px);
        }
        
        .pipeline-step i {
            color: var(--accent-color);
        }

        .arrow-icon {
            color: var(--accent-color);
            margin: 0 15px;
        }
        
        /* Button styles */
        .btn-outline-success {
            border-color: var(--accent-color);
            color: var(--accent-color);
            background: transparent;
            transition: all 0.3s ease;
        }
        
        .btn-outline-success:hover {
            background: var(--accent-color);
            color: var(--bg-primary);
            border-color: var(--accent-color);
        }
        
        .btn-outline-cyan {
            border-color: var(--accent-cyan);
            color: var(--accent-cyan);
            background: transparent;
            transition: all 0.3s ease;
        }
        
        .btn-outline-cyan:hover {
            background: var(--accent-cyan);
            color: var(--bg-primary);
            border-color: var(--accent-cyan);
        }
        
        /* Footer override */
        footer {
            background: var(--bg-secondary) !important;
        }
        
        /* Enhanced section styling */
        section {
            position: relative;
            z-index: 1;
        }
        
        .hero-section {
            background: var(--bg-primary);
            color: var(--text-primary);
            padding: 100px 0;
            min-height: 80vh;
            display: flex;
            align-items: center;
        }
        
        .hero-section h1 {
            font-size: 3.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, #00d4ff 0%, #667eea 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 4px 8px rgba(0, 212, 255, 0.3);
            margin-bottom: 2rem;
        }
        
        .hero-section .lead {
            font-size: 1.3rem;
            line-height: 1.7;
            color: var(--text-secondary);
            text-align: justify;
            margin-bottom: 2.5rem;
        }
        
        /* Better pipeline styling */
        .pipeline-section {
            background: linear-gradient(45deg, rgba(10, 15, 44, 0.8), rgba(20, 30, 60, 0.9));
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 60px 40px;
            margin: 40px 0;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }
        
        .pipeline-flow {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            align-items: center;
            gap: 15px;
            margin-bottom: 40px;
        }
        
        .pipeline-step {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.15), rgba(0, 212, 255, 0.1));
            color: var(--text-primary);
            border: 2px solid rgba(0, 255, 136, 0.4);
            border-radius: 30px;
            padding: 15px 25px;
            display: inline-flex;
            align-items: center;
            backdrop-filter: blur(10px);
            transition: all 0.4s ease;
            box-shadow: 0 8px 25px rgba(0, 255, 136, 0.2);
            font-weight: 500;
            white-space: nowrap;
        }
        
        .pipeline-step:hover {
            background: linear-gradient(135deg, rgba(0, 255, 136, 0.25), rgba(0, 212, 255, 0.2));
            border-color: rgba(0, 255, 136, 0.6);
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 40px rgba(0, 255, 136, 0.4);
        }
        
        .pipeline-step i {
            color: var(--accent-color);
            margin-right: 10px;
            font-size: 1.1rem;
        }
        
        .arrow-icon {
            color: var(--accent-cyan);
            margin: 0 10px;
            opacity: 0.8;
            transition: all 0.3s ease;
        }
        
        .arrow-icon:hover {
            opacity: 1;
            transform: scale(1.1);
        }
        
        /* Responsive pipeline for mobile */
        @media (max-width: 768px) {
            .pipeline-flow {
                flex-direction: column;
            }
            
            .arrow-icon {
                transform: rotate(90deg);
                margin: 10px 0;
            }
            
            .pipeline-step {
                width: 100%;
                justify-content: center;
                text-align: center;
            }
        }
        
        /* Enhanced cards grid */
        .feature-cards-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-top: 40px;
        }
        
        .mini-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.08), rgba(255, 255, 255, 0.02));
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 15px;
            padding: 25px;
            text-align: center;
            backdrop-filter: blur(15px);
            transition: all 0.3s ease;
            height: 100%;
        }
        
        .mini-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            border-color: rgba(255, 255, 255, 0.2);
        }
        
        .mini-card i {
            font-size: 2.5rem;
            margin-bottom: 15px;
            display: block;
        }
        
        .mini-card h6 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--text-primary);
        }
        
        .mini-card small {
            color: var(--text-secondary);
            line-height: 1.4;
        }
        
        /* Enhanced feature cards */
        .feature-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            padding: 35px;
            backdrop-filter: blur(15px);
            transition: all 0.4s ease;
            box-shadow: 0 15px 35px rgba(0, 0, 0, 0.2);
        }
        
        .feature-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 25px 50px rgba(102, 126, 234, 0.3);
            border-color: rgba(102, 126, 234, 0.4);
        }
        
        .feature-card .card-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 20px;
        }
        
        .feature-card .card-text {
            line-height: 1.6;
            text-align: justify;
        }
        
        /* Tech badges enhancement */
        .tech-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            margin: 8px;
            display: inline-block;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.3);
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .tech-badge:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.5);
        }
        
        /* Section headers enhancement */
        h2 {
            font-size: 2.5rem;
            font-weight: 700;
            background: linear-gradient(135deg, var(--accent-cyan) 0%, #667eea 100%);
            background-clip: text;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-shadow: 0 2px 4px rgba(0, 212, 255, 0.2);
            margin-bottom: 3rem;
        }
        
        /* Developer card enhancement */
        .developer-card {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1), rgba(102, 126, 234, 0.1));
            border: 2px solid rgba(0, 212, 255, 0.3);
            border-radius: 25px;
            padding: 50px;
            text-align: center;
            backdrop-filter: blur(15px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.3);
            transition: all 0.3s ease;
        }
        
        .developer-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 25px 50px rgba(0, 212, 255, 0.2);
        }
        
        /* Tech stack section enhancement */
        .tech-stack-section {
            background: linear-gradient(135deg, rgba(10, 15, 44, 0.9), rgba(20, 30, 60, 0.8));
            backdrop-filter: blur(15px);
            border-radius: 25px;
            padding: 60px 40px;
            margin: 40px 0;
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }
        
        .tech-category {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border: 1px solid rgba(255, 255, 255, 0.15);
            border-radius: 20px;
            padding: 30px;
            height: 100%;
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }
        
        .tech-category:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            border-color: rgba(255, 255, 255, 0.25);
        }
        
        .tech-category h4 {
            font-size: 1.3rem;
            font-weight: 600;
            margin-bottom: 20px;
            color: var(--text-primary);
        }
        
        .tech-category ul {
            padding-left: 0;
        }
        
        .tech-category li {
            padding: 8px 0;
            color: var(--text-secondary);
            transition: all 0.2s ease;
            border-radius: 8px;
            padding-left: 10px;
            margin-bottom: 5px;
        }
        
        .tech-category li:hover {
            background: rgba(0, 255, 136, 0.1);
            padding-left: 15px;
            color: var(--text-primary);
        }
        
        /* Capacidades section enhancement */
        .capabilities-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .capability-card {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            border: 2px solid transparent;
            border-radius: 20px;
            padding: 35px;
            text-align: center;
            backdrop-filter: blur(15px);
            transition: all 0.4s ease;
            position: relative;
            overflow: hidden;
        }
        
        .capability-card::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, transparent, rgba(0, 212, 255, 0.3), transparent);
            z-index: -1;
            border-radius: 20px;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .capability-card:hover {
            transform: translateY(-10px) scale(1.02);
            box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
        }
        
        .capability-card:hover::before {
            opacity: 1;
        }
        
        .capability-card.border-primary::before {
            background: linear-gradient(45deg, transparent, rgba(0, 123, 255, 0.4), transparent);
        }
        
        .capability-card.border-success::before {
            background: linear-gradient(45deg, transparent, rgba(40, 167, 69, 0.4), transparent);
        }
        
        .capability-card.border-info::before {
            background: linear-gradient(45deg, transparent, rgba(23, 162, 184, 0.4), transparent);
        }
        
        .capability-card i {
            margin-bottom: 20px;
            transition: all 0.3s ease;
        }
        
        .capability-card:hover i {
            transform: scale(1.1);
        }
    </style>
{% endblock %}

{% block content %}
<!-- 3D Earth Background -->
<div class="space-background"></div>
<div id="earth3d-container">
    <canvas id="earth3d-canvas"></canvas>
</div>

<!-- Hero Section -->
    <section class="hero-section">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-8">
                    <h1 class="display-4 fw-bold mb-4">
                        <i class="fas fa-shield-alt text-primary me-3"></i>
                        RISKMAP
                    </h1>
                    <p class="lead mb-4">
                        Sistema de inteligencia geopol√≠tica que integra an√°lisis de noticias mediante IA, 
                        correlaci√≥n con base de datos GDELT, an√°lisis satelital automatizado y 
                        computer vision para detectar elementos clave de conflictos en tiempo real.
                    </p>
                    <div class="d-flex flex-wrap gap-2">
                        <span class="tech-badge">Geointeligencia</span>
                        <span class="tech-badge">IA Avanzada</span>
                        <span class="tech-badge">GDELT Integration</span>
                        <span class="tech-badge">Computer Vision</span>
                        <span class="tech-badge">SentinelHub</span>
                    </div>
                </div>
                <div class="col-lg-4 text-center">
                    <i class="fas fa-satellite-dish" style="font-size: 120px; color: #00d4ff; opacity: 0.7;"></i>
                </div>
            </div>
        </div>
    </section>

    <!-- Pipeline de Funcionamiento -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Pipeline de An√°lisis Automatizado</h2>
            <div class="row justify-content-center">
                <div class="col-lg-10">
                    <div class="pipeline-section">
                        <div class="pipeline-flow">
                            <div class="pipeline-step">
                                <i class="fas fa-newspaper me-2"></i>
                                <span>1. Ingesta de Noticias</span>
                            </div>
                            <div class="arrow-icon">
                                <i class="fas fa-arrow-right fa-2x"></i>
                            </div>
                            <div class="pipeline-step">
                                <i class="fas fa-brain me-2"></i>
                                <span>2. An√°lisis IA/NLP</span>
                            </div>
                            <div class="arrow-icon">
                                <i class="fas fa-arrow-right fa-2x"></i>
                            </div>
                            <div class="pipeline-step">
                                <i class="fas fa-database me-2"></i>
                                <span>3. Correlaci√≥n GDELT</span>
                            </div>
                            <div class="arrow-icon">
                                <i class="fas fa-arrow-right fa-2x"></i>
                            </div>
                            <div class="pipeline-step">
                                <i class="fas fa-satellite me-2"></i>
                                <span>4. An√°lisis Satelital</span>
                            </div>
                            <div class="arrow-icon">
                                <i class="fas fa-arrow-right fa-2x"></i>
                            </div>
                            <div class="pipeline-step">
                                <i class="fas fa-eye me-2"></i>
                                <span>5. Computer Vision</span>
                            </div>
                        </div>
                        <div class="feature-cards-grid">
                            <div class="mini-card">
                                <i class="fas fa-rss text-primary"></i>
                                <h6>RSS Feeds</h6>
                                <small class="text-muted">M√∫ltiples fuentes internacionales</small>
                            </div>
                            <div class="mini-card">
                                <i class="fas fa-robot text-success"></i>
                                <h6>NLP & IA</h6>
                                <small class="text-muted">Extracci√≥n ubicaciones y riesgo</small>
                            </div>
                            <div class="mini-card">
                                <i class="fas fa-crosshairs text-info"></i>
                                <h6>Geolocalizaci√≥n</h6>
                                <small class="text-muted">Precisi√≥n mediante GDELT</small>
                            </div>
                            <div class="mini-card">
                                <i class="fas fa-camera text-warning"></i>
                                <h6>Im√°genes</h6>
                                <small class="text-muted">SentinelHub autom√°tico</small>
                            </div>
                            <div class="mini-card">
                                <i class="fas fa-search text-danger"></i>
                                <h6>Detecci√≥n</h6>
                                <small class="text-muted">Veh√≠culos, fuego, destrucci√≥n</small>
                            </div>
                            <div class="mini-card">
                                <i class="fas fa-chart-bar text-primary"></i>
                                <h6>Dashboard</h6>
                                <small class="text-muted">Visualizaci√≥n integrada</small>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Caracter√≠sticas Principales -->
    <section class="py-5 section-dark">
        <div class="container">
            <h2 class="text-center mb-5">Funcionamiento del Sistema</h2>
            <div class="row g-4">
                <div class="col-md-6">
                    <div class="card feature-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                <i class="fas fa-brain fa-2x text-primary me-3"></i>
                                <h5 class="card-title mb-0">An√°lisis Inteligente de Noticias</h5>
                            </div>
                            <p class="card-text">
                                El sistema procesa autom√°ticamente noticias de m√∫ltiples fuentes RSS internacionales, 
                                aplicando t√©cnicas avanzadas de NLP para extraer ubicaciones geogr√°ficas, 
                                evaluar niveles de riesgo y categorizar tipos de conflictos mediante IA.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card feature-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                <i class="fas fa-crosshairs fa-2x text-success me-3"></i>
                                <h5 class="card-title mb-0">Correlaci√≥n con GDELT</h5>
                            </div>
                            <p class="card-text">
                                Los resultados del an√°lisis de noticias se cotejan con la base de datos GDELT 
                                para determinar con m√°xima precisi√≥n las coordenadas geogr√°ficas exactas 
                                de las √°reas de conflicto, validando y refinando la informaci√≥n.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card feature-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                <i class="fas fa-satellite fa-2x text-warning me-3"></i>
                                <h5 class="card-title mb-0">An√°lisis Satelital Automatizado</h5>
                            </div>
                            <p class="card-text">
                                Una vez identificadas las coordenadas precisas, el sistema solicita autom√°ticamente 
                                im√°genes satelitales de SentinelHub de las zonas de conflicto activo, 
                                descargando datos actualizados para an√°lisis visual posterior.
                            </p>
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <div class="card feature-card h-100">
                        <div class="card-body">
                            <div class="d-flex align-items-center mb-3">
                                <i class="fas fa-eye fa-2x text-danger me-3"></i>
                                <h5 class="card-title mb-0">Computer Vision Avanzado</h5>
                            </div>
                            <p class="card-text">
                                Las im√°genes satelitales se analizan mediante un modelo preentrenado con 
                                5 datasets unificados (incluyendo 2 sint√©ticos de videojuegos) para detectar 
                                veh√≠culos militares, fuego, explosiones y edificios destruidos.
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Capacidades T√©cnicas -->
    <section class="py-5">
        <div class="container">
            <h2 class="text-center mb-5">Capacidades T√©cnicas</h2>
            <div class="capabilities-grid">
                <div class="capability-card border-primary">
                    <i class="fas fa-clock fa-3x text-primary mb-3"></i>
                    <h5 class="card-title">Tiempo Real</h5>
                    <p class="card-text">
                        Monitoreo continuo 24/7 con ingesta autom√°tica cada hora, 
                        procesamiento NLP cada 2 horas y an√°lisis hist√≥rico cada 6 horas.
                    </p>
                </div>
                <div class="capability-card border-success">
                    <i class="fas fa-globe-americas fa-3x text-success mb-3"></i>
                    <h5 class="card-title">Cobertura Global</h5>
                    <p class="card-text">
                        An√°lisis multi-idioma (EN, ES, FR, DE, RU, ZH, AR) con 
                        integraci√≥n de feeds GDELT, ACLED y fuentes de inteligencia geopol√≠tica.
                    </p>
                </div>
                <div class="capability-card border-info">
                    <i class="fas fa-shield-alt fa-3x text-info mb-3"></i>
                    <h5 class="card-title">Alta Precisi√≥n</h5>
                    <p class="card-text">
                        Validaci√≥n cruzada entre m√∫ltiples fuentes, correlaci√≥n GDELT 
                        y verificaci√≥n satelital para m√°xima fiabilidad en la detecci√≥n.
                    </p>
                </div>
            </div>
        </div>
    </section>

    <!-- Stack Tecnol√≥gico -->
    <section class="py-5 section-dark">
        <div class="container">
            <h2 class="text-center mb-5">Stack Tecnol√≥gico</h2>
            <div class="row justify-content-center">
                <div class="col-lg-11">
                    <div class="tech-stack-section">
                        <div class="row g-4">
                            <div class="col-md-6 col-lg-3">
                                <div class="tech-category">
                                    <h4><i class="fab fa-python me-2 text-primary"></i>Backend</h4>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Python Flask</li>
                                        <li><i class="fas fa-check text-success me-2"></i>SQLite + GDELT</li>
                                        <li><i class="fas fa-check text-success me-2"></i>REST APIs</li>
                                        <li><i class="fas fa-check text-success me-2"></i>APScheduler</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="tech-category">
                                    <h4><i class="fas fa-brain me-2 text-info"></i>IA & NLP</h4>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>TensorFlow</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Transformers</li>
                                        <li><i class="fas fa-check text-success me-2"></i>BERT/RoBERTa</li>
                                        <li><i class="fas fa-check text-success me-2"></i>OpenAI/Groq APIs</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="tech-category">
                                    <h4><i class="fas fa-satellite me-2 text-warning"></i>Datos & APIs</h4>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>SentinelHub</li>
                                        <li><i class="fas fa-check text-success me-2"></i>GDELT Project</li>
                                        <li><i class="fas fa-check text-success me-2"></i>ACLED</li>
                                        <li><i class="fas fa-check text-success me-2"></i>NewsAPI</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6 col-lg-3">
                                <div class="tech-category">
                                    <h4><i class="fas fa-eye me-2 text-danger"></i>Computer Vision</h4>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>OpenCV</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Modelos Preentrenados</li>
                                        <li><i class="fas fa-check text-success me-2"></i>5 Datasets Unificados</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Detecci√≥n Autom√°tica</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                        <div class="row g-4 mt-4">
                            <div class="col-md-6">
                                <div class="tech-category">
                                    <h4><i class="fas fa-chart-line me-2 text-success"></i>Frontend</h4>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Bootstrap 5</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Plotly.js</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Mapbox GL</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Chart.js</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Three.js (3D Earth)</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="col-md-6">
                                <div class="tech-category">
                                    <h4><i class="fas fa-cogs me-2 text-secondary"></i>Infraestructura</h4>
                                    <ul class="list-unstyled">
                                        <li><i class="fas fa-check text-success me-2"></i>Automatizaci√≥n 24/7</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Cache Inteligente</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Sistema de Alertas</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Logs Estructurados</li>
                                        <li><i class="fas fa-check text-success me-2"></i>Validaci√≥n Cruzada</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
        </div>
    </section>

    <!-- Desarrollador -->
    <section class="py-5 hero-section">
        <div class="container">
            <h2 class="text-center text-white mb-5">Desarrollador</h2>
            <div class="row justify-content-center">
                <div class="col-md-6">
                    <div class="developer-card">
                        <div class="mb-4">
                            <i class="fas fa-user-astronaut fa-4x text-primary"></i>
                        </div>
                        <h3 class="text-white">Alfonso Cifuentes Alonso</h3>
                        <p class="text-muted mb-4">Full Stack Developer & Data Scientist</p>
                        <div class="d-flex justify-content-center gap-3">
                            <a href="https://github.com/AlfonsoCifuentes" target="_blank" 
                               class="btn btn-outline-success">
                                <i class="fab fa-github me-2"></i>GitHub
                            </a>
                            <a href="https://es.linkedin.com/in/alfonso-cifuentes-alonso-13b186b3" 
                               target="_blank" class="btn btn-outline-cyan">
                                <i class="fab fa-linkedin me-2"></i>LinkedIn
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="py-4 bg-dark text-white text-center">
        <div class="container">
            <p>&copy; 2025 RISKMAP - Sistema de Inteligencia Geopol√≠tica</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    
    <script>
        // =============== 3D EARTH BACKGROUND INITIALIZATION ===============
        let earthScene, earthCamera, earthRenderer, earth3DModel, animationId;
        let earthContainer, earthCanvas;

        function init3DEarth() {
            console.log('üåç Initializing 3D Earth background...');
            
            // Get containers
            earthContainer = document.getElementById('earth3d-container');
            earthCanvas = document.getElementById('earth3d-canvas');
            
            if (!earthContainer || !earthCanvas) {
                console.warn('‚ö†Ô∏è 3D Earth containers not found');
                return;
            }
            
            // Scene setup
            earthScene = new THREE.Scene();
            
            // Camera setup - adjusted for better visibility
            earthCamera = new THREE.PerspectiveCamera(
                60, // Increased field of view
                window.innerWidth / window.innerHeight, 
                0.1, 
                1000
            );
            earthCamera.position.set(0, 0, 8); // Moved camera further back for better view
            
            // Renderer setup
            earthRenderer = new THREE.WebGLRenderer({ 
                canvas: earthCanvas,
                antialias: true, 
                alpha: true 
            });
            earthRenderer.setSize(window.innerWidth * 1.3, window.innerHeight * 1.3);
            earthRenderer.setClearColor(0x000000, 0); // Transparent background
            earthRenderer.shadowMap.enabled = true;
            earthRenderer.shadowMap.type = THREE.PCFSoftShadowMap;
            
            // Enhanced lighting setup
            const ambientLight = new THREE.AmbientLight(0x404040, 1.2); // Increased ambient light
            earthScene.add(ambientLight);
            
            const directionalLight = new THREE.DirectionalLight(0xffffff, 1.5); // Increased intensity
            directionalLight.position.set(10, 10, 10);
            directionalLight.castShadow = true;
            earthScene.add(directionalLight);
            
            // Add secondary light from opposite side
            const secondaryLight = new THREE.DirectionalLight(0x8888ff, 0.5);
            secondaryLight.position.set(-10, -5, -10);
            earthScene.add(secondaryLight);
            
            // Load Earth model
            load3DEarthModel();
            
            // Start animation
            animate3DEarth();
            
            // Handle window resize
            window.addEventListener('resize', onEarthWindowResize, false);
            
            // Parallax effect on scroll
            window.addEventListener('scroll', onEarthScroll, false);
            
            console.log('‚úÖ 3D Earth initialized successfully');
        }

        function load3DEarthModel() {
            console.log('üì¶ Loading 3D Earth model...');
            
            // Create Earth sphere geometry directly (more reliable than FBX)
            createEarthSphere();
        }

        function createEarthSphere() {
            console.log('üåç Creating realistic textured Earth sphere...');
            
            // Create Earth geometry - larger sphere for better visibility
            const earthGeometry = new THREE.SphereGeometry(4, 64, 64);
            
            // Load Earth texture for realistic appearance
            const textureLoader = new THREE.TextureLoader();
            
            // Try to load Earth texture from static files or public CDN
            const earthTexture = textureLoader.load(
                '/static/images/earth_texture.jpg',
                // onLoad callback
                function(texture) {
                    console.log('‚úÖ Earth texture loaded successfully');
                    texture.wrapS = THREE.RepeatWrapping;
                    texture.wrapT = THREE.RepeatWrapping;
                },
                // onProgress callback
                function(xhr) {
                    if (xhr.lengthComputable) {
                        const percentComplete = xhr.loaded / xhr.total * 100;
                        console.log('üì• Earth texture loading: ' + percentComplete.toFixed(2) + '%');
                    }
                },
                // onError callback - Try CDN fallback
                function(err) {
                    console.warn('‚ö†Ô∏è Local Earth texture failed, trying CDN fallback...');
                    
                    // Try public Earth texture from CDN
                    const fallbackTexture = textureLoader.load(
                        'https://threejs.org/examples/textures/planets/earth_atmos_2048.jpg',
                        function(texture) {
                            console.log('‚úÖ CDN Earth texture loaded successfully');
                            texture.wrapS = THREE.RepeatWrapping;
                            texture.wrapT = THREE.RepeatWrapping;
                            if (earth3DModel) {
                                earth3DModel.material.map = texture;
                                earth3DModel.material.needsUpdate = true;
                            }
                        },
                        undefined,
                        function(finalErr) {
                            console.warn('‚ö†Ô∏è All Earth textures failed, using realistic Earth colors');
                            // Final fallback - realistic Earth-like material without texture
                            const fallbackMaterial = new THREE.MeshLambertMaterial({
                                color: 0x6B93D6,  // Earth blue
                                transparent: false,
                                opacity: 1.0
                            });
                            if (earth3DModel) {
                                earth3DModel.material = fallbackMaterial;
                            }
                        }
                    );
                }
            );
            
            // Create realistic Earth material with texture
            let earthMaterial = new THREE.MeshLambertMaterial({ 
                map: earthTexture,          // Apply Earth texture
                transparent: false,         // Keep fully opaque
                opacity: 1.0,              // Full opacity
                wireframe: false,
                side: THREE.FrontSide,      // Only front side for performance
                fog: false                 // Ignore fog
            });
            
            // Create the Earth mesh
            earth3DModel = new THREE.Mesh(earthGeometry, earthMaterial);
            earth3DModel.position.set(0, 0, 0);
            earth3DModel.castShadow = true;
            earth3DModel.receiveShadow = true;
            earthScene.add(earth3DModel);
            
            console.log('‚úÖ Realistic textured Earth sphere created (size 4)');
            
            // Force immediate visibility check
            setTimeout(() => {
                if (earth3DModel && earthRenderer && earthCamera && earthScene) {
                    console.log('üîç Earth visibility check:');
                    console.log('- Earth position:', earth3DModel.position);
                    console.log('- Earth scale:', earth3DModel.scale);
                    console.log('- Earth visible:', earth3DModel.visible);
                    console.log('- Material has texture:', earth3DModel.material.map ? 'Yes' : 'No');
                    console.log('- Material transparent:', earth3DModel.material.transparent);
                    console.log('- Material opacity:', earth3DModel.material.opacity);
                    console.log('- Scene children:', earthScene.children.length);
                    
                    // Force a render
                    earthRenderer.render(earthScene, earthCamera);
                }
            }, 500);
        }

        function animate3DEarth() {
            animationId = requestAnimationFrame(animate3DEarth);
            
            if (earth3DModel) {
                // Simple rotation around Y axis only (natural Earth rotation)
                earth3DModel.rotation.y += 0.002;
            }
            
            if (earthRenderer && earthCamera && earthScene) {
                earthRenderer.render(earthScene, earthCamera);
            }
        }

        function onEarthWindowResize() {
            if (!earthCamera || !earthRenderer) return;
            
            earthCamera.aspect = window.innerWidth / window.innerHeight;
            earthCamera.updateProjectionMatrix();
            earthRenderer.setSize(window.innerWidth * 1.3, window.innerHeight * 1.3);
        }

        function onEarthScroll() {
            const scrollTop = window.pageYOffset || document.documentElement.scrollTop;
            const spaceBackground = document.querySelector('.space-background');
            
            if (spaceBackground) {
                // Parallax effect for space background
                spaceBackground.style.transform = `translateY(${scrollTop * 0.5}px)`;
            }
            
            if (earth3DModel) {
                // Subtle movement based on scroll
                earth3DModel.position.y = scrollTop * 0.001;
            }
        }

        function cleanup3DEarth() {
            if (animationId) {
                cancelAnimationFrame(animationId);
            }
            
            window.removeEventListener('resize', onEarthWindowResize);
            window.removeEventListener('scroll', onEarthScroll);
            
            if (earthRenderer) {
                earthRenderer.dispose();
            }
            
            console.log('üßπ 3D Earth cleanup completed');
        }

        // Initialize 3D Earth when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('üöÄ DOM loaded, initializing 3D Earth...');
            
            // Wait a bit for other scripts to load, then initialize
            setTimeout(() => {
                try {
                    init3DEarth();
                    
                    // Debug: Check if everything is working after 3 seconds
                    setTimeout(() => {
                        console.log('üîç 3D Earth Debug Status:');
                        console.log('- Scene object:', earthScene ? 'Created' : 'Missing');
                        console.log('- Camera object:', earthCamera ? 'Created' : 'Missing');
                        console.log('- Renderer object:', earthRenderer ? 'Created' : 'Missing');
                        console.log('- Earth model:', earth3DModel ? 'Created' : 'Missing');
                        console.log('- Canvas element:', document.getElementById('earth3d-canvas') ? 'Found' : 'Missing');
                        console.log('- Container element:', document.getElementById('earth3d-container') ? 'Found' : 'Missing');
                        
                        if (earthScene && earth3DModel) {
                            console.log('- Scene children count:', earthScene.children.length);
                            console.log('- Earth model position:', earth3DModel.position);
                            console.log('- Earth model scale:', earth3DModel.scale);
                        }
                    }, 3000);
                    
                } catch (error) {
                    console.error('‚ùå Error initializing 3D Earth:', error);
                }
            }, 1000);
        });

        // Cleanup on page unload
        window.addEventListener('beforeunload', cleanup3DEarth);

    </script>
{% endblock %}

{% block extra_js %}
<!-- Three.js for 3D Earth Background -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/loaders/FBXLoader.min.js"></script>
{% endblock %}